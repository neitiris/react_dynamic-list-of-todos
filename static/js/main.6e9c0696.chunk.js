(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(23)},20:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),o=a.n(s),c=a(2),i=a.n(c),l=a(11),u=a(3),d=a(9),m=a(6),h=a(7),p=a(10),b=a(8),f=a(12),y=(a(20),a(1)),k=a.n(y);k.a.state={users:k.a.shape({id:k.a.number,name:k.a.string,username:k.a.string,email:k.a.string,address:k.a.shape({street:k.a.string,suite:k.a.string,city:k.a.string}),phone:k.a.string,website:k.a.string,company:k.a.shape({name:k.a.string})}),todos:k.a.shape({userId:k.a.number,id:k.a.number,title:k.a.string,completed:k.a.boolean})};var w=k.a,E="https://jsonplaceholder.typicode.com",_=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/todos",e.next=3,fetch("".concat(E).concat("/todos").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/users",e.next=3,fetch("".concat(E).concat("/users"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=e.todoItem;return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{key:"tRow_row-".concat(t.id,"--id"),className:"tableCell"},t.id),r.a.createElement("td",{key:"tRow_row-".concat(t.id,"--title"),className:"tableCell"},t.title),r.a.createElement("td",{key:"tRow_row-".concat(t.id,"--name"),className:"tableCell"},t.user.name),r.a.createElement("td",{key:"tRow_row-".concat(t.id,"--completed"),className:"tableCell"},r.a.createElement("input",{type:"checkbox",checked:t.completed})))},C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={todos:[],sortedTodoList:[],users:[],isLoaded:!1,isLoading:!1,sortType:"id",sortDirection:1},a.urlParams="?_sort=".concat(a.state.sortType,"\n    &_order=").concat(1===a.state.sortDirection?"asc":"desc"),a.sortData=function(e){a.setState(function(t){return{sortType:e,direction:1===t.direction?-1:1,sortedTodoList:Object(d.a)(t.todos).sort(function(a,n){return"title"===e?t.direction*a[e].localeCompare(n[e]):t.direction*(n[e]-a[e])})}})},a.handleClick=function(){a.setState({isLoading:!0}),a.loadData().then(function(){a.sortData(a.state.sortType),a.setState({isLoaded:!0,isLoading:!1})})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"loadData",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v().then(function(e){t.setState({users:e})});case 2:return e.next=4,_(this.urlParams).then(function(e){t.setState(function(t){return{todos:e.map(function(e){return Object(l.a)({},e,{user:t.users.find(function(t){return t.id===e.userId})})})}})});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.sortedTodoList;return r.a.createElement("main",null,this.state.isLoaded?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Dynamic list of todos"),r.a.createElement("table",{className:"table",key:"table"},r.a.createElement("thead",{key:"table_head"},r.a.createElement("tr",{key:"thead_row"},r.a.createElement("th",{key:"thead_row--id",className:"tableCell table__header-btn",onClick:function(){return e.sortData("id")}},"Id"),r.a.createElement("th",{key:"thead_row--title",className:"tableCell table__header-btn",onClick:function(){return e.sortData("title")}},"Title"),r.a.createElement("th",{key:"thead_row--userId",className:"tableCell table__header-btn",onClick:function(){return e.sortData("userId")}},"User"),r.a.createElement("th",{key:"thead_row--completed",className:"tableCell table__header-btn",onClick:function(){return e.sortData("completed")}},"Status"))),r.a.createElement("tbody",{key:"table_body"},t.map(function(e){return r.a.createElement(g,{key:"todo-".concat(e.id),todoItem:e})})))):r.a.createElement("button",{className:"btn",type:"submit",disabled:this.state.isLoading,onClick:this.handleClick},this.state.isLoading?"Loading...":"Load"))}}]),t}(r.a.Component);w.state=w;var j=C;o.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.6e9c0696.chunk.js.map